<!DOCTYPE html><html lang="it"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><script async src="https://www.googletagmanager.com/gtag/js?id=G-SGYF4CRR8G"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date());gtag("config","G-SGYF4CRR8G",{page_path:window.location.pathname});</script><title>Storia - Associazione Sardi Sebastiano Satta di Verona</title><style>body{font-family:Arial,sans-serif;background:#fff;margin:0;padding:0;padding-top:80px}.header{display:flex;align-items:center;padding:12px 20px;background:linear-gradient(90deg,#d40000,#0044ff);color:#fff;position:fixed;top:0;left:0;width:100%;z-index:999;transition:backdrop-filter .3s ease,background .3s ease}.header.scrolled{backdrop-filter:blur(12px) brightness(1.35) saturate(160%);-webkit-backdrop-filter:blur(12px) brightness(1.35) saturate(160%);background:linear-gradient(90deg,rgba(212,0,0,.70),rgba(0,68,255,.70))}.header img{height:48px;width:48px;border-radius:50%;margin-right:15px;cursor:pointer}.header-title{font-size:22px;font-weight:700}.contenuto{max-width:900px;margin:auto;padding:20px}.contenuto h1{font-size:32px;margin-bottom:20px}#img-wrapper{position:relative;width:100%;display:inline-block}#immagine{width:100%;border-radius:12px;margin:20px 0;cursor:pointer;transition:filter .25s ease}#img-button{position:absolute;display:none;padding:14px 28px;font-size:20px;font-weight:700;border:none;border-radius:10px;cursor:pointer;background:linear-gradient(90deg,#d40000,#0044ff);color:#fff;box-shadow:0 4px 12px rgba(0,0,0,.2);left:50%;top:50%;transform:translate(-50%,-50%);z-index:10;transition:opacity .2s}#img-button:hover{opacity:.85}.testo{font-size:19px;line-height:1.6;color:#444;margin-top:20px}.loading-bar-container{width:100%;max-width:420px;height:12px;background:#e0e0e0;border-radius:10px;margin:20px auto;overflow:hidden;display:none}.loading-bar{height:100%;width:0;background:linear-gradient(90deg,#d40000,#0044ff);border-radius:10px;transition:width .25s ease}</style><script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script></head><body><div class="header"><img id="logo-home" src="logo.png"><div class="header-title">Associazione Sebastiano Satta</div></div><div class="contenuto" id="contenuto"><h1 id="titolo"></h1><div id="loading-bar-container" class="loading-bar-container"><div id="loading-bar" class="loading-bar"></div></div><div id="img-wrapper"><img id="immagine"><button id="img-button">Apri</button></div><div id="testo" class="testo"></div></div><script>const supabaseUrl="https://jfdqkbdqyrdqsxoippgy.supabase.co";const supabaseKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmZHFrYmRxeXJkcXN4b2lwcGd5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk2ODg4NDYsImV4cCI6MjA4NTI2NDg0Nn0.uQxL5bWSFTymZYs-r3ZCWNc7wDPsA-bt0G9lSpfhFpI";const supabaseClient=supabase.createClient(supabaseUrl,supabaseKey);function startLoadingBar(){ const c=document.getElementById("loading-bar-container"); const b=document.getElementById("loading-bar"); c.style.display="block"; let p=0; const i=setInterval(()=>{ p+=10; b.style.width=p+"%"; if(p>=90)clearInterval(i); },200); return()=>{ b.style.width="100%"; setTimeout(()=>c.style.display="none",300); }}async function caricaStoria(){ const stop=startLoadingBar(); const{data}=await supabaseClient.from("storia").select("*").single(); stop(); if(!data){ document.getElementById("contenuto").innerHTML=`<div style="text-align:center;padding:40px;font-size:22px;color:#666;">Nessuna storia disponibile.</div>`; return; } document.getElementById("titolo").textContent=data.titolo; document.getElementById("immagine").src=data.immagine||"placeholder.jpg"; document.getElementById("testo").innerHTML=data.contenuto;}caricaStoria();window.addEventListener("scroll",()=>{ const h=document.querySelector(".header"); window.scrollY>10?h.classList.add("scrolled"):h.classList.remove("scrolled");});document.getElementById("logo-home").addEventListener("click",()=>{ window.location.href="index.html";});let currentImgSrc="";let blurred=false;const img=document.getElementById("immagine");const btn=document.getElementById("img-button");img.addEventListener("click",()=>{ if(!blurred){ currentImgSrc=img.src; img.style.filter="blur(12px) brightness(1.2)"; btn.style.display="block"; blurred=true; }else{ img.style.filter="none"; btn.style.display="none"; blurred=false; }});btn.addEventListener("click",()=>{ if(currentImgSrc) window.open(currentImgSrc,"_blank");});</script></body></html>
